<!doctype html><html lang=zh><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-131319987-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-131319987-1')</script><meta name=author content="kentxxq"><meta name=keywords content="raspberry pi recalbox kodi 直播源 nes chmod armv7l"><meta name=description content="买了树莓派4b的4gb版本，就是因为哪怕是要吃灰了，我也可以把家里那个垃圾电视盒子给替换掉。那个电视盒子其实只是是一个运营商送的垃圾盒子，通过电视猫之类的app来看电视，还特别多的广告。所以有了今天先把这个吃灰救星给弄好。这次实践的目的是让这个盒子一定能跑起来，所以后续哪怕出现问题，我也会不定时更新，解决问题"><meta property="og:title" content="树莓派recalbox实践"><meta property="og:description" content="买了树莓派4b的4gb版本，就是因为哪怕是要吃灰了，我也可以把家里那个垃圾电视盒子给替换掉。那个电视盒子其实只是是一个运营商送的垃圾盒子，通过电视猫之类的app来看电视，还特别多的广告。所以有了今天先把这个吃灰救星给弄好。这次实践的目的是让这个盒子一定能跑起来，所以后续哪怕出现问题，我也会不定时更新，解决问题"><meta property="og:type" content="article"><meta property="og:url" content="https://kentxxq.com/contents/%E6%A0%91%E8%8E%93%E6%B4%BErecalbox%E5%AE%9E%E8%B7%B5/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-03-21T14:36:00+08:00"><meta property="article:modified_time" content="2021-03-22T02:16:14+08:00"><link rel=prev href=https://kentxxq.com/contents/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%8A%E6%88%91%E6%B7%8C%E7%9A%84%E5%9D%91/><link rel=canonical href=https://kentxxq.com/contents/%E6%A0%91%E8%8E%93%E6%B4%BErecalbox%E5%AE%9E%E8%B7%B5/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><link rel=icon type=image/png href=/favicon.png><title>树莓派recalbox实践 | kentxxq Blog</title><meta name=title content="树莓派recalbox实践 | kentxxq Blog"><link rel=stylesheet href=/font/iconfont.css><link rel=stylesheet href=/css/main.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","image":"https:\/\/kentxxq.com\/images/me/avatar.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/kentxxq.com\/"},"articleSection":"posts","name":"树莓派recalbox实践","headline":"树莓派recalbox实践","description":"买了树莓派4b的4gb版本，就是因为哪怕是要吃灰了，我也可以把家里那个垃圾电视盒子给替换掉。那个电视盒子其实只是是一个运营商送的垃圾盒子，通过电视猫之类的app来看电视，还特别多的广告。所以有了今天先把这个吃灰救星给弄好。这次实践的目的是让这个盒子一定能跑起来，所以后续哪怕出现问题，我也会不定时更新，解决问题","inLanguage":"zh","author":"kentxxq","creator":"kentxxq","publisher":{"@type":"Organization","name":"kentxxq","logo":{"@type":"ImageObject","url":"https:\/\/kentxxq.com\/images/me/avatar.jpg"}},"accountablePerson":"kentxxq","copyrightHolder":"kentxxq","copyrightYear":"2021","datePublished":"2021-03-21 14:36:00","dateModified":"2021-03-22 02:16:14","url":"https:\/\/kentxxq.com\/contents\/%E6%A0%91%E8%8E%93%E6%B4%BErecalbox%E5%AE%9E%E8%B7%B5\/","keywords":["raspberry pi","recalbox","kodi","直播源","nes","chmod","armv7l"]}</script></head><body><div class=wrapper><nav class=navbar><div class=container><div class="navbar-header header-logo"><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href=https://kentxxq.com/>kentxxq Blog</a></div><div class="menu navbar-right"><a class=menu-item href=/posts/ title>Blog</a>
<a class=menu-item href=/categories/ title>Categories</a>
<a class=menu-item href=/tags/ title>Tags</a>
<a class=menu-item href=/about/ title>About</a></div></div></nav><nav class=navbar-mobile id=nav-mobile style=display:none><div class=container><div class=navbar-header><div><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href=https://kentxxq.com/>kentxxq Blog</a></div><div class=menu-toggle><span></span><span></span><span></span></div></div><div class=menu id=mobile-menu><a class=menu-item href=/posts/ title>Blog</a>
<a class=menu-item href=/categories/ title>Categories</a>
<a class=menu-item href=/tags/ title>Tags</a>
<a class=menu-item href=/about/ title>About</a></div></div></nav><main class=main><div class=container><article class=post-warp><header class=post-header><h1 class=post-title>树莓派recalbox实践</h1><div class=post-meta>Written by <a href=https://kentxxq.com/ rel=author>kentxxq</a>
with ♥
<span class=post-time>on <time datetime=2021-03-21>March 21, 2021</time></span>
in
<i class="iconfont icon-folder"></i><span class=post-category><a href=https://kentxxq.com/categories/%E7%AC%94%E8%AE%B0/>笔记</a></span>
|
<a href=#gitalk-container><span class=gitalk-comment-count itemprop=commentCount></span></a></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title></h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><a href=#前情提要>前情提要</a></li><li><a href=#recalbox>recalbox</a><ul><li><a href=#recalbox简介>recalbox简介</a></li><li><a href=#基础设置>基础设置</a></li><li><a href=#web界面>web界面</a></li><li><a href=#recalbox游戏>recalbox游戏</a></li></ul></li><li><a href=#kodi配置>kodi配置</a><ul><li><a href=#kodi中文设置>kodi中文设置</a></li><li><a href=#kodi启用插件>kodi启用插件</a></li><li><a href=#使用直播源>使用直播源</a></li></ul></li><li><a href=#疑难杂症>疑难杂症</a><ul><li><a href=#操作系统架构问题>操作系统架构问题</a></li><li><a href=#无法chmod执行权限>无法chmod执行权限</a></li></ul></li><li><a href=#todo>todo</a><ul><li><a href=#直播源工具>直播源工具</a></li></ul></li><li><a href=#更新日志>更新日志</a></li></ul></nav></div></div><script type=text/javascript>window.onload=function(){var a=$('.post-toc'),b=$('.post-comment'),f=a.offset().top,d=a.height(),g=a[0].offsetTop,e,c;$(window).scroll(function(){var h=Math.max(document.body.scrollTop,document.documentElement.scrollTop);b.length>0&&(c=b.offset().top,e=c-h-d),f<h?(a.css({position:'fixed'}),b.length>0&&c<h+d?a.css({top:e}):a.css({top:0})):(a.css({position:'absolute'}),a.css({top:g}))})}</script><div class=post-content><blockquote><p>买了树莓派4b的4gb版本，就是因为哪怕是要吃灰了，我也可以把家里那个垃圾电视盒子给替换掉。那个电视盒子其实只是是一个运营商送的垃圾盒子，通过电视猫之类的app来看电视，还特别多的广告。所以有了今天先把这个吃灰救星给弄好。这次实践的目的是让这个盒子一定能跑起来，所以后续哪怕出现问题，我也会不定时更新，解决问题</p></blockquote><h2 id=前情提要>前情提要</h2><p>键盘或手柄的按键映射请<a href=https://recalbox.gitbook.io/documentation/basic-manual/getting-started/controller-configuration#using-a-keyboard>参照最新的文档</a>。我主要以操作步骤为主，只会对极个别操作进行按键说明。</p><h2 id=recalbox>recalbox</h2><h3 id=recalbox简介>recalbox简介</h3><p>这个没什么难的，只要用imager刷入系统就可以了。然后会自动进入操作界面。</p><p>recalbox是一个游戏模拟器的合集+kodi媒体中心！是的，都集成到了一起是我选用它的主要原因。</p><h3 id=基础设置>基础设置</h3><ol><li><strong>中文显示</strong>:<code>主菜单=>系统设置=>语言=>确认选中语言</code></li><li><strong>ip地址查看</strong>:<code>主菜单=>网络设置=>ip地址</code></li><li><strong>ssh连接</strong>:<code>ssh root@ip地址</code>,密码<code>recalboxroot</code>。但是有一点需要注意，recalbox可以看作是一个<strong>独立的linux发行版</strong>。这意味着你<strong>无法使用yum或者apt</strong>，也<strong>无法安装npm和deb包</strong>！</li></ol><h3 id=web界面>web界面</h3><p><strong>系统管理界面</strong>: <code>用浏览器访问ip</code>，默认就是访问80端口。<img src=/images/raspberry_pi/recalbox%E7%AE%A1%E7%90%86%E7%95%8C%E9%9D%A2.png alt=recalbox管理界面></p><p>其中的控制器模拟界面，对于测试了解手柄非常有用。<img src=/images/raspberry_pi/recalbox%E6%8E%A7%E5%88%B6%E7%95%8C%E9%9D%A2.png alt=recalbox控制界面></p><h3 id=recalbox游戏>recalbox游戏</h3><p>这里我就讲一下大致的步骤吧，下载游戏的网站我也随便<a href=http://www.rendiyu.com/emu/fc/>贴一个</a>，试过了没问题</p><ol><li>下载一个游戏rom包，例如<code>马里奥.nes</code>。<strong>这个文件名最后会变成recalbox里面的游戏名</strong>！！</li><li>在<a href=http://172.18.76.201/roms/nes>web界面</a>上传这个文件，重启es服务<img src=/images/raspberry_pi/recalbox%E6%B8%B8%E6%88%8From%E4%B8%8A%E4%BC%A0.png alt=recalbox控制界面></li><li>nes是nintendo entertainment system的简写，找到这个模拟器，就可以看到游戏了<img src=/images/raspberry_pi/recalbox%E6%B8%B8%E6%88%8F%E7%95%8C%E9%9D%A21.jpg alt=recalbox游戏界面1><img src=/images/raspberry_pi/recalbox%E6%B8%B8%E6%88%8F%E7%95%8C%E9%9D%A22.jpg alt=recalbox游戏界面2></li></ol><h2 id=kodi配置>kodi配置</h2><p><code>主菜单=>kodi媒体中心</code>,系统会重启。<strong>kodi和recalbox的键盘映射不一定相同</strong>！</p><h3 id=kodi中文设置>kodi中文设置</h3><ol><li><code>设置齿轮=>interface=>Skin=>Font=>Arial based</code></li><li>同界面下，<code>Regional=>Language=>简体中文</code></li></ol><h3 id=kodi启用插件>kodi启用插件</h3><p><strong>启用插件</strong>:<code>插件=>我的插件=>PVR客户端=>PVR IPTV Simple Client=>启用</code></p><h3 id=使用直播源>使用直播源</h3><ol><li>去github上面<a href=https://github.com/imDazui/Tvlist-awesome-m3u-m3u8#%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B>下载</a>需要的电视直播源文件。</li><li>默认recalbox通过<code>SMB协议共享</code>出来了我们需要的文件夹，我们可以直接访问进去。在<code>share/kodi</code>下面新建m3u8文件夹，然后把下载好的直播源文件放进去。</li><li>在插件iptv界面进入设置，选择本地文件m3u。</li><li>点击kodi开关，退出。然后重新进入kodi</li></ol><p>进入电视就可以看是选台看电视了！</p><h2 id=疑难杂症>疑难杂症</h2><h3 id=操作系统架构问题>操作系统架构问题</h3><p>recalbox7.1.1是armv7l架构。arm64是64位，默认的话就是arm32。但是一般的iot设备都用不上，所以recalbox是更特殊的armv7l架构。</p><p>再进一步，看了一眼arm默认都是小端存储。armv7l就是后面的l就是小端的意思。</p><p>再进一步，armv7应该是可以运行armv6程序的，同理armv8。</p><p>可惜的是，net5还不支持armv6这一些架构，但是golang可以，我试过了。。对我这个对net下狠心的学习的人，真是太不友好了。。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#75715e>// golang编译命令
</span><span style=color:#75715e></span><span style=color:#a6e22e>CGO_ENABLED</span>=<span style=color:#ae81ff>0</span> <span style=color:#a6e22e>GOOS</span>=<span style=color:#a6e22e>linux</span> <span style=color:#a6e22e>GOARCH</span>=<span style=color:#a6e22e>arm</span> <span style=color:#a6e22e>GOARM</span>=<span style=color:#ae81ff>7</span> <span style=color:#66d9ef>go</span> <span style=color:#a6e22e>build</span> <span style=color:#a6e22e>x</span>.<span style=color:#66d9ef>go</span>
</code></pre></div><h3 id=无法chmod执行权限>无法chmod执行权限</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># 重新挂载即可</span>
mount -o remount rw /
<span style=color:#75715e># 然后拷贝到/下面</span>
cp x /x
chmod +x x
./x
</code></pre></div><h2 id=todo>todo</h2><h3 id=直播源工具>直播源工具</h3><p>有很多的直播源质量不高，主要愿意是直播源有地域之分。你在北方不错的直播源可能到了南方就用不了。所以准备写一个插件来解决这个问题。</p><p>目标：抓取知名的直播源，进行测试。生成m3u文件。然后一直用这个源即可。程序预计是一条命令部署在recalbox主机上。</p><h2 id=更新日志>更新日志</h2><p><strong>20210321</strong>: <code>开篇</code></p><p><strong>20210322</strong>: 添加<code>疑难杂症</code></p></div><div class=post-copyright><p class=copyright-item><span>Author:</span>
<span>kentxxq</span></p><p class=copyright-item><span>Link:</span>
<a href=https://kentxxq.com/contents/%E6%A0%91%E8%8E%93%E6%B4%BErecalbox%E5%AE%9E%E8%B7%B5/><script>document.write(decodeURI(location.origin+location.pathname))</script></a></p><p class="copyright-item lincese">本文采用<a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/ target=_blank>知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p></div><div class=post-tags><section><i class="iconfont icon-tag"></i>Tag(s):
<span class=tag><a href=https://kentxxq.com/tags/raspberry-pi/>#raspberry pi</a></span></section><section><a href=javascript:window.history.back();>back</a></span> ·
<span><a href=https://kentxxq.com/>home</a></span></section></div><div class=post-nav><a href=https://kentxxq.com/contents/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%8A%E6%88%91%E6%B7%8C%E7%9A%84%E5%9D%91/ class=prev rel=prev title=树莓派上我淌的坑><i class="iconfont icon-left"></i>&nbsp;树莓派上我淌的坑</a></div></article><div class=post-comment><div id=disqus_thread></div><script>var disqus_config=function(){this.page.title="树莓派recalbox实践",this.page.url="https://kentxxq.com/contents/%E6%A0%91%E8%8E%93%E6%B4%BErecalbox%E5%AE%9E%E8%B7%B5/"};(function(){var a=document,b=a.createElement('script');b.src='https://kentxxq.disqus.com/embed.js',b.setAttribute('data-timestamp',+new Date),(a.head||a.body).appendChild(b)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by
Disqus.</a></noscript></div></div></main><footer class=footer><a href=https://beian.miit.gov.cn/ target=_blank rel="external nofollow">湘ICP备2021002319号-1</a></footer><link href=//lib.baomitu.com/lightgallery/1.6.11/css/lightgallery.min.css rel=stylesheet><script src=/js/vendor_gallery.min.js async></script><script src=https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js></script></div></body></html>